<!doctype html>
<html lang="en">
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<title>TI-89 / TI-92+ / TI-V200 / TI-89T emulator (beta version 12-debrouxl)</title>
<script type="text/javascript" src="v12_readable.js"></script>
<script type="text/javascript">
var emu = TI68kEmulatorCoreModule(window);
var ui = TI68kEmulatorUIModule(window);
var link = TI68kEmulatorLinkModule(window);
</script>

<script type="text/javascript" src="ti89rom.js"></script>
<script type="text/javascript" src="v12sav.js"></script>
<script type="text/javascript">
if (emu.apiversion() != 1) {
    throw "API version has changed, the script may have to be updated";
}
if (typeof(rom) === "object") {
    emu.setRom(rom);
}
emu.setReset(reset);
ui.setEmu(emu);
ui.setLink(link);
emu.setUI(ui);
emu.setLink(link);
link.setEmu(emu);
link.setUI(ui);

// Here, you could call a bunch of set_elementid_* functions on ui, e.g. set_elementid_calcimg(), to link your document's element IDs with the script.
// But that's optional if you use the same element IDs as the ones in this reference HTML page.
// You can also call set_display_no_rom_loaded() on UI if you don't like alert() as a way to tell the user that no ROM / OS upgrade is loaded.
</script>
</head>

<body onload="javascript:emu.initemu()">
<h3>Javascript TI-89 / TI-92+ / TI-V200 / TI-89T emulator (beta version 12) by Patrick Davidson &amp; Lionel Debroux</h3>

<div id="calccontainer" style="position:relative">
<canvas id="screen" style="">This emulator requires a browser with canvas support and Javascript enabled.</canvas>
<img id="calcimg" src="" usemap="#calcmap" ismap style="position:relative;top:0px;left:0px">
<map name="calcmap" id="calcmap"></map>
</div>

<div id="textandbuttons" style="position:relative">
<form>
<p> <input type="file" onchange="javascript:ui.loadrom()" id="romfile"> Choose a ROM image (in TIB, ??U, or plain ROM format) to load the new ROM and reset the calculator.  Choose a file to upload a new variable to
the calculator (you must be on the home screen to do this).  Note that while the pre-loaded programs are quite
compatible with this emulator, compability with other programs is limited in this version.</p>
<p>
<input type="button" value="Pause emulator" id="pauseemulator" onclick="javascript:ui.pause_emulator()"/>
<input type="button" value="Resume emulator" id="resumeemulator" style="display:none" onclick="javascript:ui.resume_emulator()"/><br/>

<input type="button" value="Try to speed emulator up" id="speedup" onclick="javascript:emu.increase_emulator_speed()"/>
<input type="button" value="Slow emulator down" id="slowdown" onclick="javascript:emu.decrease_emulator_speed()"/><br/>

<input type="button" value="Reset calculator" id="reset_calculator" onclick="javascript:emu.initialize_calculator()"/><br>

<input type="button" value="PNG screenshot" id="pngbutton" onclick="javascript:ui.getPNG()"/>
&nbsp;&nbsp;
<input type="button" value="Close PNG screenshot" id="hidebutton" style="display:none" onclick="javascript:ui.pngButtons()"/><img id="pngimage" src=""/><br/>
<!-- http://stackoverflow.com/a/16213045  -->

<input type="button" value="Start non-silent single file receive" id="receivensButton" onclick="javascript:link.recvfile_ns()"/>
&nbsp;&nbsp;
<input type="button" value="Make data created by recvfile() / recvfile_ns() available" id="downloadFileButton" onclick="javascript:link.getFileData()"/></form><br/>
<a href="" id="downloadfile" style="display:none">Download data created by recvfile()</a>

Skin type: <form>
<input type="radio" id="smallskin" name="skin_type" value="1" onclick="javascript:ui.setSkin(1)">1:1&nbsp;&nbsp;</input>
<input type="radio" id="largeskin" name="skin_type" value="2" onclick="javascript:ui.setSkin(2)">2:1</input>
</form>
</p>

<p>By default, the emulated calculator uses the open-source PedroM instead of the official TI system software.  The PedroM source along with conversion scripts is available <a href="index.html">here</a>.  
In addition to clicking on the emulator itself, most keys are also mapped to computer keyboards.  Use the backslash (\) key to activate the LOCK (hand) key on the emulated calculator, use backquote (`) for 2nd,
use F10 for SHIFT, 
and use F9 for F1.  Use the numeric keypad for the + - * / symbols but the regular number keys to enter numbers.  The - on the numeric keypad is the plain - key; use the semicolon (;) key for the (-) key.  
All other keys either have the obvious mapping or not mapped to any computer key.  This emulator is pre-loaded with a few of my games.
To run them just type a game name (monster, mercury, platinum, phoenix, smiley) and press enter.</p>

<p>If you encounter serious problems with this emulator, such as it erases 100% of the data on your hard disk, please report to me by e-mail to <a href="eeulplek@hotmail.com.html">eeulplek@hotmail.com</a> / <a href="lionel_debroux@yahoo.fr.html">lionel_debroux@yahoo.fr</a>, on IRC (EFNet: #ti, #cemetech, #tcpa) or on message boards (Cemetech, TI-Planet). However, please note that this is a beta version so minor problems (such as erasing only 37% of your data) are to be expected and thus are not worth reporting.</p>

<p>Thanks to Patrick Pelissier for having written Pedrom -- this emulator would never have been written without his open source ROM available to include with it.  Also thanks to Lionel Debroux for his many suggestions to improve this emulator -- but note that I haven't made use of all of them yet, so don't blame him if you find any bugs!</p>
</div>
</body>
</html>
